/*
 * jQuery Copyright plugin 0.1.1 
 * https://github.com/absentik/copyright
 * 
 * Author: Seleznev Alexander (ABSENT) 
 * Email: absenteg@gmail.com 
 * Website: http://whoisabsent.ru 
 *  
 * Licensed under the MIT license. 
 * http://www.opensource.org/licenses/mit-license.php 
 */

;(function(e,c,b,k){function d(a,c){this.element=a;this._defaults=g;this._name=f;this.options=e.extend({},g,c);this.action="string"===typeof c?c:"default";this.init()}var f="copyright",g={text:"<br>Original: "+c.location.href,minlength:0,processing:k};d.prototype.getSelectedText=function(){var a="";c.getSelection?a=c.getSelection().toString():b.selection&&(a=b.selection.createRange().text);return a};d.prototype.setSelectionRange=function(){if(c.getSelection){var a=b.createRange();a.selectNodeContents(this.div);
var d=c.getSelection();d.removeAllRanges();d.addRange(a)}else b.selection&&b.body.createTextRange&&(a=b.body.createTextRange(),a.moveToElementText(this.div),a.select())};d.prototype.removeSelectionRange=function(){c.getSelection?c.getSelection().removeAllRanges():b.selection&&b.selection.empty()};d.prototype.saveSelectionRange=function(){if(c.getSelection){if(sel=c.getSelection(),sel.getRangeAt&&sel.rangeCount)return sel.getRangeAt(0)}else if(b.selection)return b.selection.createRange();return null};
d.prototype.restoreSelectionRange=function(){this.range?c.getSelection?(sel=c.getSelection(),sel.removeAllRanges(),sel.addRange(this.range)):b.selection&&this.range.select():this.it.removeSelectionRange()};d.prototype.copy=function(){var a=this,d=e("body"),b=a.getSelectedText(),g=a.saveSelectionRange(d[0]);b.length>a.options.minlength&&("function"==typeof a.options.processing&&(b=a.options.processing(b)),b+=a.options.text);var h=e("<div/>",{html:b,style:"width: 1px; height: 1px; overflow: hidden; position: absolute; top: -99999px; left: -99999px; opacity: 0.01"}).appendTo(d);
a.setSelectionRange.call({div:h[0]});c.setTimeout(function(){a.restoreSelectionRange.call({it:a,range:g});h.remove();return e(a.element).trigger(f+"_AfterCopy")},0);return e(a.element).trigger(f+"_BeforeCopy")};d.prototype.remove=function(){e(this.element).off("copy")};d.prototype.start=function(){var a=this;e(a.element).on("copy",function(){a.copy()})};d.prototype.init=function(){switch(this.action){case "remove":return this.remove();default:return this.start()}};e.fn[f]=function(a){return this.each(function(){e.data(this,
"plugin_"+f,new d(this,a))})}})(jQuery,window,document);